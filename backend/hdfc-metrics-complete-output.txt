
╔═══════════════════════════════════════════════════════════════════════════╗
║        HDFC BANK METRICS EXTRACTION - DATABASE ANALYSIS                  ║
╚═══════════════════════════════════════════════════════════════════════════╝

🔌 Connecting to MongoDB...
(node:158737) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:158737) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
✅ Connected to MongoDB


════════════════════════════════════════════════════════════════════════════════
📋 STEP 1: USER INFORMATION
════════════════════════════════════════════════════════════════════════════════


{
  "id": "68e9892f5e894a9df4c401ce",
  "email": "sj@tryrankly.com",
  "createdAt": "2025-10-10T22:31:11.575Z"
}

════════════════════════════════════════════════════════════════════════════════
📋 STEP 2: URL ANALYSIS
════════════════════════════════════════════════════════════════════════════════


{
  "id": "68ea268943e36b0d6038f0a5",
  "url": "https://www.hdfcbank.com/personal/pay/cards/credit-cards",
  "status": "completed",
  "createdAt": "2025-10-11T09:42:33.789Z"
}

════════════════════════════════════════════════════════════════════════════════
📋 STEP 3: COMPETITORS
════════════════════════════════════════════════════════════════════════════════


[]

════════════════════════════════════════════════════════════════════════════════
📋 STEP 4: TOPICS
════════════════════════════════════════════════════════════════════════════════


[]

════════════════════════════════════════════════════════════════════════════════
📋 STEP 5: PERSONAS
════════════════════════════════════════════════════════════════════════════════


[]

════════════════════════════════════════════════════════════════════════════════
📋 STEP 6: PROMPTS
════════════════════════════════════════════════════════════════════════════════


[]

════════════════════════════════════════════════════════════════════════════════
📋 STEP 7: PROMPT TESTS
════════════════════════════════════════════════════════════════════════════════


Total Prompt Tests: 76

Tests by Platform:
  perplexity: 19 tests
  claude: 20 tests
  gemini: 17 tests
  openai: 20 tests

Sample Test Data:
{
  "id": "68ea274a43e36b0d6038fa10",
  "llmProvider": "perplexity",
  "llmModel": "perplexity/sonar-pro",
  "queryType": "Comparative",
  "responseTime": 18908,
  "tokensUsed": 1184,
  "brandMentioned": true,
  "brandPosition": 1,
  "citationsTotal": 7,
  "sentiment": "neutral",
  "brandsAnalyzed": 3
}

════════════════════════════════════════════════════════════════════════════════
📋 STEP 8: AGGREGATED METRICS
════════════════════════════════════════════════════════════════════════════════


Total Aggregated Metrics Documents: 0

Metrics by Scope:

════════════════════════════════════════════════════════════════════════════════
📋 STEP 9: PERFORMANCE INSIGHTS (AI-Generated)
════════════════════════════════════════════════════════════════════════════════


⚠️  No performance insights found. Run metrics aggregation to generate.

════════════════════════════════════════════════════════════════════════════════
📋 STEP 10: DASHBOARD INPUT FORMAT
════════════════════════════════════════════════════════════════════════════════


This is the exact format expected by the dashboard API:
{
  "overall": {},
  "platforms": {},
  "topics": {},
  "personas": {}
}

════════════════════════════════════════════════════════════════════════════════
📋 STEP 11: AI INSIGHTS GENERATION INPUT
════════════════════════════════════════════════════════════════════════════════




╔═══════════════════════════════════════════════════════════════════════════╗
║                           EXTRACTION SUMMARY                              ║
╚═══════════════════════════════════════════════════════════════════════════╝

✅ User: sj@tryrankly.com (68e9892f5e894a9df4c401ce)
✅ URL Analysis: https://www.hdfcbank.com/personal/pay/cards/credit-cards
✅ Brand: undefined
✅ Competitors: 0
✅ Topics: 0
✅ Personas: 0
✅ Prompts: 0
✅ Prompt Tests: 76
✅ Aggregated Metrics: 0
✅ Performance Insights: Not Generated

📊 Data Completeness:
  - Overall Metrics: ❌
  - Platform Metrics: 0 platforms
  - Topic Metrics: 0 topics
  - Persona Metrics: 0 personas

📁 Output Files:
  All metrics have been displayed above in their proper format.
  You can redirect this output to a file using:
  node extract-hdfc-metrics.js > hdfc-metrics-output.json


🔌 Disconnected from MongoDB

✨ Extraction complete!

